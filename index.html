<!DOCTYPE html>
<html >
<head>
  <meta charset="UTF-8">
  <style>
    html, body, 
        #map-canvas {
        height: 550px;
        width: 100%
    }
    select#type, select#type-color {
        -webkit-appearance: button;
        -webkit-border-radius: 2px;
        -webkit-box-shadow: 0px 1px 3px rgba(0, 0, 0, 0.1);
        -webkit-padding-end: 20px;
        -webkit-padding-start: 2px;
        -webkit-user-select: none;
        background-image: url(http://i62.tinypic.com/15xvbd5.png), -webkit-linear-gradient(#FAFAFA, #F4F4F4 40%, #E5E5E5);
        background-position: 97% center;
        background-repeat: no-repeat;
        border: 1px solid #AAA;
        color: gray;
        font-size: inherit;
        overflow: hidden;
        padding: 5px 10px;
        text-overflow: ellipsis;
        white-space: nowrap;
        width: 230px;
        align-content:center;
        display: block;
        margin: 20px auto;
}
  </style>
</head>
<body>
<script src='https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=false'></script> 
<div id="map-canvas"></div>
<select id="type" onchange="filterMarkers(this.value);">
    <option value="">All Years (2010 - 2017)</option>
    <option value="2010">2010</option>
    <option value="2011">2011</option>
    <option value="2012">2012</option>
    <option value="2013">2013</option>
    <option value="2014">2014</option>
    <option value="2015">2015</option>
    <option value="2016">2016</option>
    <option value="2017">2017</option>
</select>

<script>
var gmarkers = [];
var data = [];

//json array of all the data (latitude, longitude, year occurred)
data = [[0,"title",40.100767,-88.236025,"2010"],
  [1,"title",40.106229,-88.224126,"2010"],
  [2,"title",40.103224,-88.234069,"2010"],
  [3,"title",40.109434,-88.227226,"2010"],
  [4,"title",40.099684,-88.219764,"2010"],
  [5,"title",40.107102,-88.232328,"2010"],
  [6,"title",40.109981,-88.234188,"2011"],
  [7,"title",40.107562,-88.233027,"2011"],
  [8,"title",40.10471,-88.221889,"2011"],
  [9,"title",40.10654,-88.238732,"2011"],
  [10,"title",40.106815,-88.233482,"2011"],
  [11,"title",40.115345,-88.233568,"2011"],
  [12,"title",40.111505,-88.216079,"2011"],
  [13,"title",40.105393,-88.238638,"2011"],
  [14,"title",40.141775,-88.233472,"2011"],
  [15,"title",40.103985,-88.233397,"2011"],
  [16,"title",40.110036,-88.233341,"2011"],
  [17,"title",40.110221,-88.238697,"2011"],
  [18,"title",40.110245,-88.235374,"2011"],
  [19,"title",40.110245,-88.235374,"2011"],
  [20,"title",40.111458,-88.235389,"2011"],
  [21,"title",40.109035,-88.235376,"2011"],
  [22,"title",40.109035,-88.235376,"2011"],
  [23,"title",40.108234,-88.235778,"2011"],
  [24,"title",40.106025,-88.219206,"2011"],
  [25,"title",40.107441,-88.21769,"2011"],
  [26,"title",40.112016,-88.236317,"2015"],
  [27,"title",40.106543,-88.236979,"2011"],
  [28,"title",40.11269,-88.231863,"2011"],
  [29,"title",40.113534,-88.225733,"2011"],
  [30,"title",40.109711,-88.230234,"2011"],
  [31,"title",40.109051,-88.235405,"2011"],
  [32,"title",40.11635,-88.233576,"2011"],
  [33,"title",40.103127,-88.235282,"2011"],
  [34,"title",40.10406,-88.220861,"2012"],
  [35,"title",40.10406,-88.220861,"2012"],
  [36,"title",40.110028,-88.219332,"2012"],
  [37,"title",40.109068,-88.235362,"2012"],
  [38,"title",40.107701,-88.21806,"2012"],
  [39,"title",40.109087,-88.232024,"2012"],
  [40,"title",40.110221,-88.238697,"2012"],
  [41,"title",40.103292,-88.237696,"2012"],
  [42,"title",40.103292,-88.237696,"2012"],
  [43,"title",40.106278,-88.226084,"2012"],
  [44,"title",40.106278,-88.226084,"2012"],
  [45,"title",40.110809,-88.202582,"2012"],
  [46,"title",40.110262,-88.233524,"2012"],
  [47,"title",40.102401,-88.237768,"2012"],
  [48,"title",40.109714,-88.231817,"2012"],
  [49,"title",40.112192,-88.219339,"2012"],
  [50,"title",40.103873,-88.237299,"2012"],
  [51,"title",40.103873,-88.237299,"2012"],
  [52,"title",40.124978,-88.22129,"2012"],
  [53,"title",40.098298,-88.214325,"2012"],
  [54,"title",40.110041,-88.235548,"2012"],
  [55,"title",40.110235,-88.23704,"2012"],
  [56,"title",40.113943,-88.237055,"2012"],
  [57,"title",40.102101,-88.235126,"2012"],
  [58,"title",40.102101,-88.235126,"2012"],
  [59,"title",40.109711,-88.230234,"2012"],
  [60,"title",40.110153,-88.220948,"2012"],
  [61,"title",40.110153,-88.220948,"2012"],
  [62,"title",40.108197,-88.237497,"2012"],
  [63,"title",40.10406,-88.220861,"2013"],
  [64,"title",40.10406,-88.220861,"2013"],
  [65,"title",40.105097,-88.235899,"2013"],
  [66,"title",40.105097,-88.235899,"2013"],
  [67,"title",40.110288,-88.232058,"2013"],
  [68,"title",40.107915,-88.232058,"2013"],
  [69,"title",40.099684,-88.219764,"2013"],
  [70,"title",40.106592,-88.235364,"2013"],
  [71,"title",40.110258,-88.235362,"2013"],
  [72,"title",40.184852,-88.367877,"2013"],
  [73,"title",40.101773,-88.238017,"2013"],
  [74,"title",40.101773,-88.238017,"2013"],
  [75,"title",40.105663,-88.222947,"2013"],
  [76,"title",40.105442,-88.234488,"2013"],
  [77,"title",40.110288,-88.23209,"2013"],
  [78,"title",40.110245,-88.235374,"2013"],
  [79,"title",40.110581,-88.222014,"2013"],
  [80,"title",40.111458,-88.235389,"2013"],
  [81,"title",40.109035,-88.235376,"2013"],
  [82,"title",40.107872,-88.240344,"2013"],
  [83,"title",40.086232,-88.246523,"2013"],
  [84,"title",40.103696,-88.214445,"2013"],
  [85,"title",40.11584,-88.225091,"2013"],
  [86,"title",40.110041,-88.235548,"2013"],
  [87,"title",40.102072,-88.236694,"2013"],
  [88,"title",40.107102,-88.232328,"2013"],
  [89,"title",40.107946,-88.235364,"2013"],
  [90,"title",40.112643,-88.235421,"2013"],
  [91,"title",40.107963,-88.235385,"2013"],
  [92,"title",40.09896,-88.220334,"2013"],
  [93,"title",40.111872,-88.228956,"2013"],
  [94,"title",40.105422,-88.23029,"2014"],
  [95,"title",40.106855,-88.233333,"2014"],
  [96,"title",40.106554,-88.237005,"2014"],
  [97,"title",40.106815,-88.233482,"2014"],
  [98,"title",41.892608,-87.631527,"2014"],
  [99,"title",40.104083,-88.238692,"2014"],
  [100,"title",40.107918,-88.238778,"2014"],
  [101,"title",40.110213,-88.240258,"2014"],
  [102,"title",40.110245,-88.235374,"2014"],
  [103,"title",40.110245,-88.235374,"2014"],
  [104,"title",40.110245,-88.235374,"2014"],
  [105,"title",40.108234,-88.235778,"2014"],
  [106,"title",40.104144,-88.22005,"2014"],
  [107,"title",40.104144,-88.22005,"2014"],
  [108,"title",40.108969,-88.240322,"2014"],
  [109,"title",40.109016,-88.240333,"2014"],
  [110,"title",40.102816,-88.219734,"2014"],
  [111,"title",40.106262,-88.229809,"2014"],
  [112,"title",40.103873,-88.237299,"2014"],
  [113,"title",40.11582,-88.224971,"2014"],
  [114,"title",40.100616,-88.224282,"2014"],
  [115,"title",40.099923,-88.220374,"2014"],
  [116,"title",40.111421,-88.234337,"2014"],
  [117,"title",40.10373,-88.235422,"2014"],
  [118,"title",40.110235,-88.23704,"2014"],
  [119,"title",40.114436,-88.230401,"2014"],
  [120,"title",40.112672,-88.235299,"2014"],
  [121,"title",40.101746,-88.233648,"2014"],
  [122,"title",40.105025,-88.236917,"2014"],
  [123,"title",40.110153,-88.220948,"2014"],
  [124,"title",40.09896,-88.220334,"2014"],
  [125,"title",40.114357,-88.233748,"2014"],
  [126,"title",40.111872,-88.228956,"2014"],
  [127,"title",40.111767,-88.21218,"2015"],
  [128,"title",40.105681,-88.23488,"2015"],
  [129,"title",40.107562,-88.233027,"2015"],
  [130,"title",40.107562,-88.233027,"2015"],
  [131,"title",40.110258,-88.235362,"2015"],
  [132,"title",40.109068,-88.235362,"2015"],
  [133,"title",40.110258,-88.235362,"2015"],
  [134,"title",40.110294,-88.235417,"2015"],
  [135,"title",40.101773,-88.238017,"2015"],
  [136,"title",40.112219,-88.217794,"2015"],
  [137,"title",40.11269,-88.232094,"2015"],
  [138,"title",40.110221,-88.238697,"2015"],
  [139,"title",40.110245,-88.235374,"2015"],
  [140,"title",40.110288,-88.232058,"2015"],
  [141,"title",40.110288,-88.230375,"2015"],
  [142,"title",40.106711,-88.221752,"2015"],
  [143,"title",40.116906,-88.224946,"2015"],
  [144,"title",40.109021,-88.238721,"2015"],
  [145,"title",40.113423,-88.212745,"2015"],
  [146,"title",40.101436,-88.238603,"2015"],
  [147,"title",40.099923,-88.220374,"2015"],
  [148,"title",40.10509,-88.233899,"2015"],
  [149,"title",40.113943,-88.237055,"2015"],
  [150,"title",40.107917,-88.23702,"2015"],
  [151,"title",40.110308,-88.230423,"2015"],
  [152,"title",40.106523,-88.235417,"2015"],
  [153,"title",40.111467,-88.235403,"2015"],
  [154,"title",40.107963,-88.235385,"2015"],
  [155,"title",40.110153,-88.220948,"2015"],
  [156,"title",40.103127,-88.235282,"2015"],
  [157,"title",40.105393,-88.238638,"2016"],
  [158,"title",40.110245,-88.235374,"2016"],
  [159,"title",40.107562,-88.233027,"2016"],
  [160,"title",40.107562,-88.233027,"2016"],
  [161,"title",40.107562,-88.233027,"2016"],
  [162,"title",40.105414,-88.231962,"2016"],
  [163,"title",40.105435,-88.235545,"2016"],
  [164,"title",40.107946,-88.235375,"2016"],
  [165,"title",40.109068,-88.235362,"2016"],
  [166,"title",40.110188,-88.229686,"2016"],
  [167,"title",40.110188,-88.229686,"2016"],
  [168,"title",40.109161,-88.224843,"2016"],
  [169,"title",40.112047,-88.234997,"2016"],
  [170,"title",40.106506,-88.223686,"2016"],
  [171,"title",40.099482,-88.220149,"2016"],
  [172,"title",40.107939,-88.233503,"2016"],
  [173,"title",40.10794,-88.237025,"2016"],
  [174,"title",40.10794,-88.237025,"2016"],
  [175,"title",40.107939,-88.233503,"2016"],
  [176,"title",40.10459,-88.239137,"2016"],
  [177,"title",40.110221,-88.238697,"2016"],
  [178,"title",40.098971,-88.220867,"2016"],
  [179,"title",40.098971,-88.220867,"2016"],
  [180,"title",40.106278,-88.226084,"2016"],
  [181,"title",40.101481,-88.233384,"2016"],
  [182,"title",40.103985,-88.233397,"2016"],
  [183,"title",40.110221,-88.238697,"2016"],
  [184,"title",40.110245,-88.235374,"2016"],
  [185,"title",40.111454,-88.196799,"2016"],
  [186,"title",40.106711,-88.221752,"2016"],
  [187,"title",40.104413,-88.233687,"2016"],
  [188,"title",40.102401,-88.237768,"2016"],
  [189,"title",40.109609,-88.221381,"2016"],
  [190,"title",40.109063,-88.237021,"2016"],
  [191,"title",40.108994,-88.24029,"2016"],
  [192,"title",40.104144,-88.22005,"2016"],
  [193,"title",40.114445,-88.222361,"2016"],
  [194,"title",40.099411,-88.235915,"2016"],
  [195,"title",40.103873,-88.237299,"2016"],
  [196,"title",40.106515,-88.241527,"2016"],
  [197,"title",40.103616,-88.226026,"2016"],
  [198,"title",40.107951,-88.229172,"2016"],
  [199,"title",40.099923,-88.220374,"2016"],
  [200,"title",40.110041,-88.235548,"2016"],
  [201,"title",40.110041,-88.235548,"2016"],
  [202,"title",40.107102,-88.232328,"2016"],
  [203,"title",40.107102,-88.232328,"2016"],
  [204,"title",40.10767,-88.235661,"2016"],
  [205,"title",40.105218,-88.235223,"2016"],
  [206,"title",40.102101,-88.235126,"2016"],
  [207,"title",40.112621,-88.238694,"2016"],
  [208,"title",40.101746,-88.233648,"2016"],
  [209,"title",40.101746,-88.233648,"2016"],
  [210,"title",40.101746,-88.233648,"2016"],
  [211,"title",40.103127,-88.235282,"2016"],
  [212,"title",40.114406,-88.237066,"2016"],
  [213,"title",40.105097,-88.235899,"2017"],
  [214,"title",40.106995,-88.234927,"2017"],
  [215,"title",40.116599,-88.221938,"2017"],
  [216,"title",40.129937,-88.220554,"2017"],
  [217,"title",40.106281,-88.220293,"2017"],
  [218,"title",40.107918,-88.238778,"2017"],
  [219,"title",40.098971,-88.220867,"2017"],
  [220,"title",40.110235,-88.23704,"2017"],
  [221,"title",40.110262,-88.233524,"2017"],
  [222,"title",40.110262,-88.233524,"2017"],
  [223,"title",40.11147,-88.233553,"2017"],
  [224,"title",40.093719,-88.23739,"2017"],
  [225,"title",40.107678,-88.229307,"2017"],
  [226,"title",40.107678,-88.229307,"2017"],
  [227,"title",40.104614,-88.219205,"2017"],
  [228,"title",40.112672,-88.235299,"2017"],
  [229,"title",40.111475,-88.235392,"2017"],
  [230,"title",40.103842,-88.238124,"2017"],
  [231,"title",40.103127,-88.235282,"2017"]
];

//let's make the map!!!
function initialize() {
    var center = new google.maps.LatLng(40.1092,  -88.2272); 
    var options = {
        zoom: 15,
        center: center,
        styles: [{"featureType":"all","stylers":[{"saturation":0},{"hue":"#e7ecf0"}]}, {"featureType":"road","stylers":[{"saturation":-70}]},     {"featureType":"transit","stylers":[{"visibility":"off"}]},{"featureType":"poi","stylers":[{"visibility":"off"}]},{"featureType":"water","stylers":[{"visibility":"simplified"},{"saturation":-60}]}] 
    };

    map = new google.maps.Map(document.getElementById('map-canvas'), options);
    for (i = 0; i < data.length; i++) {
        addMarker(data[i]);
    }
}

//let's add markers to this map!!! 
var image = 'http://i.imgur.com/6AYbwMy.png';
function addMarker(marker) {
    var category = marker[4];
    var pos = new google.maps.LatLng(marker[2], marker[3]);

    marker1 = new google.maps.Marker({
        position: pos,
        category: category,
        map: map,
        icon: image
    });

    gmarkers.push(marker1);
}

//filter markers by category
filterMarkers = function (category) {
    for (i = 0; i < data.length; i++) {
        marker = gmarkers[i];
        if (marker.category == category || category.length === 0) {
            marker.setVisible(true);
        }
        else {
            marker.setVisible(false);
        }
    }
}

// load map pls
google.maps.event.addDomListener(window, 'load', initialize);
    
</script>
<script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyClJM1y7FiyywrCj0FKLeHDH94MAX4-gXo&callback=initMap"></script>
</body>
</html>
